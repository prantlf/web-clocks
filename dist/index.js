!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).WebClocks={})}(this,function(t){"use strict";let e,n;function r(){}function o(t){return t()}function s(){return Object.create(null)}function i(t){t.forEach(o)}function c(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e}let u="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function a(t,e){t.appendChild(e)}function f(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode&&t.parentNode.removeChild(t)}function h(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function $(t){return document.createElement(t)}function p(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function m(t){return document.createTextNode(t)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e){e=""+e,t.data!==e&&(t.data=e)}function b(t){let e={};for(let n of t)e[n.name]=n.value;return e}function k(){if(!e)throw Error("Function called outside component initialization");return e}function x(t){k().$$.on_mount.push(t)}"WeakMap"in u&&new WeakMap;let w=[],_=[],v=[],E=[],C=Promise.resolve(),A=!1;function N(){A||(A=!0,C.then(O))}function T(){return N(),C}function M(t){v.push(t)}let S=new Set,j=0;function O(){if(0!==j)return;let t=e;do{try{for(;j<w.length;){let t=w[j];j++,e=t,function(t){if(null!==t.fragment){t.update(),i(t.before_update);let e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(M)}}(t.$$)}}catch(t){throw w.length=0,j=0,t}for(e=null,w.length=0,j=0;_.length;)_.pop()();for(let t=0;t<v.length;t+=1){let e=v[t];S.has(e)||(S.add(e),e())}v.length=0}while(w.length);for(;E.length;)E.pop()();A=!1,S.clear(),e=t}let D=new Set;function H(t,n,l,u,a,f,h,$=[-1]){let p=e;e=t;let m=t.$$={fragment:null,ctx:[],props:f,update:r,not_equal:a,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(p?p.$$.context:[])),callbacks:s(),dirty:$,skip_bound:!1,root:n.target||p.$$.root};h&&h(m.root);let g=!1;if(m.ctx=l?l(t,n.props||{},(e,n,...r)=>{let o=r.length?r[0]:n;if(m.ctx&&a(m.ctx[e],m.ctx[e]=o)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](o),g)){var s;-1===(s=t).$$.dirty[0]&&(w.push(s),N(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}return n}):[],m.update(),g=!0,i(m.before_update),m.fragment=!!u&&u(m.ctx),n.target){if(n.hydrate){let t=Array.from(n.target.childNodes);m.fragment&&m.fragment.l(t),t.forEach(d)}else m.fragment&&m.fragment.c();if(n.intro){var y;(y=t.$$.fragment)&&y.i&&(D.delete(y),y.i(void 0))}!function(t,e,n,r){let{fragment:s,after_update:l}=t.$$;s&&s.m(e,n),r||M(()=>{let e=t.$$.on_mount.map(o).filter(c);t.$$.on_destroy?t.$$.on_destroy.push(...e):i(e),t.$$.on_mount=[]}),l.forEach(M)}(t,n.target,n.anchor,n.customElement),O()}e=p}function I(t,e){let n=new CustomEvent("tick",{detail:e,bubbles:!0,cancelable:!0,composed:!0});t.dispatchEvent(n)}"function"==typeof HTMLElement&&(n=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:t}=this.$$;for(let e in this.$$.on_disconnect=t.map(o).filter(c),this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){i(this.$$.on_disconnect)}$destroy(){!function(t,e){let n=t.$$;null!==n.fragment&&(function(t){let e=[],n=[];v.forEach(r=>-1===t.indexOf(r)?e.push(r):n.push(r)),n.forEach(t=>t()),v=e}(n.after_update),i(n.on_destroy),n.fragment&&n.fragment.d(1),n.on_destroy=n.fragment=null,n.ctx=[])}(this,0),this.$destroy=r}$on(t,e){if(!c(e))return r;let n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{let t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&0!==Object.keys(t).length&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});let R=-new Date().getTimezoneOffset();function W(t){return 0===t.length&&(t=R),new Date(Date.now()+(+t-R)*6e4)}function z(t,e,n){let r=t.slice();return r[14]=e[n],r}function B(t,e,n){let r=t.slice();return r[2]=e[n],r}function L(t){let e;let n=t[3],r=[];for(let e=0;e<n.length;e+=1)r[e]=q(z(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=m("")},m(t,n){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,n);f(t,e,n)},p(t,o){if(10&o){let s;for(s=0,n=t[3];s<n.length;s+=1){let i=z(t,n,s);r[s]?r[s].p(i,o):(r[s]=q(i),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(t){h(r,t),t&&d(e)}}}function F(t){let e;let n=[1,2,3,4],r=[];for(let e=0;e<4;e+=1)r[e]=P(B(t,n,e));return{c(){for(let t=0;t<4;t+=1)r[t].c();e=m("")},m(t,n){for(let e=0;e<4;e+=1)r[e]&&r[e].m(t,n);f(t,e,n)},p(t,o){if(8&o){let s;for(s=0,n=[1,2,3,4];s<4;s+=1){let i=B(t,n,s);r[s]?r[s].p(i,o):(r[s]=P(i),r[s].c(),r[s].m(e.parentNode,e))}for(;s<4;s+=1)r[s].d(1)}},d(t){h(r,t),t&&d(e)}}}function P(t){let e,n;return{c(){g(e=p("line"),"class","minor"),g(e,"y1","42"),g(e,"y2","45"),g(e,"transform",n="rotate("+6*(t[14]+t[2])+")")},m(t,n){f(t,e,n)},p(t,r){8&r&&n!==(n="rotate("+6*(t[14]+t[2])+")")&&g(e,"transform",n)},d(t){t&&d(e)}}}function q(t){let e,n,r;let o="sixty"===t[1]&&F(t);return{c(){e=p("line"),o&&o.c(),r=m(""),g(e,"class","major"),g(e,"y1","35"),g(e,"y2","45"),g(e,"transform",n="rotate("+30*t[14]+")")},m(t,n){f(t,e,n),o&&o.m(t,n),f(t,r,n)},p(t,s){8&s&&n!==(n="rotate("+30*t[14]+")")&&g(e,"transform",n),"sixty"===t[1]?o?o.p(t,s):((o=F(t)).c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},d(t){t&&d(e),o&&o.d(t),t&&d(r)}}}function G(t){let e,n,r,o;return{c(){e=p("g"),n=p("line"),r=p("line"),g(n,"class","second"),g(n,"y1","10"),g(n,"y2","-38"),g(r,"class","second-counterweight"),g(r,"y1","10"),g(r,"y2","2"),g(e,"transform",o="rotate("+6*t[4]+")")},m(t,o){f(t,e,o),a(e,n),a(e,r)},p(t,n){16&n&&o!==(o="rotate("+6*t[4]+")")&&g(e,"transform",o)},d(t){t&&d(e)}}}function J(t){let e,n,o,s,i,c;let l="none"!==t[1]&&L(t),u="true"===t[0]&&G(t);return{c(){e=p("svg"),n=p("circle"),l&&l.c(),o=p("line"),i=p("line"),u&&u.c(),this.c=r,g(n,"class","clock-face"),g(n,"r","48"),g(o,"class","hour"),g(o,"y1","2"),g(o,"y2","-20"),g(o,"transform",s="rotate("+(30*t[6]+t[5]/2)+")"),g(i,"class","minute"),g(i,"y1","4"),g(i,"y2","-30"),g(i,"transform",c="rotate("+(6*t[5]+t[4]/10)+")"),g(e,"viewBox","-50 -50 100 100")},m(t,r){f(t,e,r),a(e,n),l&&l.m(e,null),a(e,o),a(e,i),u&&u.m(e,null)},p(t,[n]){"none"!==t[1]?l?l.p(t,n):((l=L(t)).c(),l.m(e,o)):l&&(l.d(1),l=null),96&n&&s!==(s="rotate("+(30*t[6]+t[5]/2)+")")&&g(o,"transform",s),48&n&&c!==(c="rotate("+(6*t[5]+t[4]/10)+")")&&g(i,"transform",c),"true"===t[0]?u?u.p(t,n):((u=G(t)).c(),u.m(e,null)):u&&(u.d(1),u=null)},i:r,o:r,d(t){t&&d(e),l&&l.d(),u&&u.d()}}}function K(t,e,n){let r,o,s,i,c;let{secondhand:l="true"}=e,{markers:u="sixty"}=e,{offset:a=""}=e,f=k(),d=()=>W(a),h=d();function $(){n(9,h=d()),I(f,h)}return x(async()=>{await T(),$();let t=0,e=setInterval(()=>{if(!c){if("true"!==l){if(++t<60)return;t=0}$()}},1e3);return()=>clearInterval(e)}),t.$$set=t=>{"secondhand"in t&&n(0,l=t.secondhand),"markers"in t&&n(1,u=t.markers),"offset"in t&&n(2,a=t.offset)},t.$$.update=()=>{1&t.$$.dirty&&T().then(()=>f.setAttribute("secondhand",l)),2&t.$$.dirty&&T().then(()=>f.setAttribute("markers",u)),4&t.$$.dirty&&T().then(()=>f.setAttribute("offset",a)),512&t.$$.dirty&&n(6,r=h.getHours()),512&t.$$.dirty&&n(5,o=h.getMinutes()),512&t.$$.dirty&&n(4,s=h.getSeconds()),2&t.$$.dirty&&n(3,i="four"===u?[0,15,30,45]:[0,5,10,15,20,25,30,35,40,45,50,55])},[l,u,a,i,s,o,r,function(){c=!0},function(){c=!1},h]}class Q extends n{constructor(t){super();let e=document.createElement("style");e.textContent=":host{display:block}svg{width:100%;height:100%}.clock-face{stroke:#333;fill:white}.minor{stroke:#999;stroke-width:0.5}.major{stroke:#333;stroke-width:1}.hour{stroke:#333}.minute{stroke:#666}.second,.second-counterweight{stroke:rgb(180,0,0)}.second-counterweight{stroke-width:3}",this.shadowRoot.appendChild(e),H(this,{target:this.shadowRoot,props:b(this.attributes),customElement:!0},K,J,l,{secondhand:0,markers:1,offset:2,stop:7,restart:8},null),t&&(t.target&&f(t.target,this,t.anchor),t.props&&(this.$set(t.props),O()))}static get observedAttributes(){return["secondhand","markers","offset","stop","restart"]}get secondhand(){return this.$$.ctx[0]}set secondhand(t){this.$$set({secondhand:t}),O()}get markers(){return this.$$.ctx[1]}set markers(t){this.$$set({markers:t}),O()}get offset(){return this.$$.ctx[2]}set offset(t){this.$$set({offset:t}),O()}get stop(){return this.$$.ctx[7]}get restart(){return this.$$.ctx[8]}}function U(t){return t<10?`0${t}`:t}function V(t){let e,n;let r=U(t[1])+"";return{c(){(e=$("span")).textContent=":",n=m(r)},m(t,r){f(t,e,r),f(t,n,r)},p(t,e){2&e&&r!==(r=U(t[1])+"")&&y(n,r)},d(t){t&&d(e),t&&d(n)}}}function X(t){let e,n,o,s,i=U(t[3])+"",c=U(t[2])+"",l="true"===t[0]&&V(t);return{c(){e=m(i),(n=$("span")).textContent=":",o=m(c),l&&l.c(),s=m(""),this.c=r},m(t,r){f(t,e,r),f(t,n,r),f(t,o,r),l&&l.m(t,r),f(t,s,r)},p(t,[n]){8&n&&i!==(i=U(t[3])+"")&&y(e,i),4&n&&c!==(c=U(t[2])+"")&&y(o,c),"true"===t[0]?l?l.p(t,n):((l=V(t)).c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null)},i:r,o:r,d(t){t&&d(e),t&&d(n),t&&d(o),l&&l.d(t),t&&d(s)}}}function Y(t,e,n){let r,o,s,i;let{seconds:c="true"}=e,{offset:l=""}=e,u=k(),a=()=>W(l),f=a();function d(){n(7,f=a()),I(u,f)}return x(async()=>{await T(),d();let t=0,e=setInterval(()=>{if(!i){if("true"!==c){if(++t<60)return;t=0}d()}},1e3);return()=>clearInterval(e)}),t.$$set=t=>{"seconds"in t&&n(0,c=t.seconds),"offset"in t&&n(4,l=t.offset)},t.$$.update=()=>{1&t.$$.dirty&&T().then(()=>u.setAttribute("seconds",c)),16&t.$$.dirty&&T().then(()=>u.setAttribute("offset",l)),128&t.$$.dirty&&n(3,r=f.getHours()),128&t.$$.dirty&&n(2,o=f.getMinutes()),128&t.$$.dirty&&n(1,s=f.getSeconds())},[c,s,o,r,l,function(){i=!0},function(){i=!1},f]}customElements.define("ana-clock",Q);class Z extends n{constructor(t){super(),H(this,{target:this.shadowRoot,props:b(this.attributes),customElement:!0},Y,X,l,{seconds:0,offset:4,stop:5,restart:6},null),t&&(t.target&&f(t.target,this,t.anchor),t.props&&(this.$set(t.props),O()))}static get observedAttributes(){return["seconds","offset","stop","restart"]}get seconds(){return this.$$.ctx[0]}set seconds(t){this.$$set({seconds:t}),O()}get offset(){return this.$$.ctx[4]}set offset(t){this.$$set({offset:t}),O()}get stop(){return this.$$.ctx[5]}get restart(){return this.$$.ctx[6]}}customElements.define("digi-clock",Z),t.AnaClock=Q,t.DigiClock=Z});
//# sourceMappingURL=index.js.map
